<!--
 * planview - Query Plan Visualizer
 * Copyright (C) 2010  Daniele Varrazzo
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
  <head>
    <title>Query Plan Visualizer</title>
    <link rel="stylesheet" href="planview.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/ui-lightness/jquery-ui.css" type="text/css" media="all" />
    <script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
    <script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.js"></script>
    <script language="javascript" src="jquery.svg.js"></script>
    <script language="javascript" src="jquery.tooltip.js"></script>
    <script language="javascript" src="planview.js"></script>
    <script language="javascript">
      $(document).ready(function()
      {
        $('#input-txt').tooltip();

        $('#demo-btn').tooltip().click(function() {
          $('#input-txt').val($.trim($('#demo').text()));
        });

        $('#timeline-btn').tooltip().click(function() {
          try {
            planview.renderReport(
              $("#input-txt").val(),
              $("#output-area").show().empty());
          } catch (e) {
            alert("Query plan parsing failed: '" + e + "'.");
          }
        });
      });
    </script>
  </head>
  <body>
    <div id="demo" style="display: none;">
Subquery Scan "*SELECT*"  (cost=3998159.58..4017423.33 rows=19757 width=1688) (actual time=2252714.704..2291343.377 rows=9629 loops=1)
  -&gt;  GroupAggregate  (cost=3998159.58..4012977.85 rows=19757 width=85) (actual time=2252714.678..2290892.551 rows=9629 loops=1)
        -&gt;  Sort  (cost=3998159.58..3998653.52 rows=19757 width=85) (actual time=2252684.805..2284428.488 rows=158017 loops=1)
              Sort Key: e.event_date, e.home_id, e.away_id, a.kudos_from, a.kudos_to, a.system, a.username, t.ccy_code
              Sort Method:  external merge  Disk: 171328kB
              -&gt;  Hash Join  (cost=218982.50..3971323.65 rows=19757 width=85) (actual time=159931.273..2203014.755 rows=158017 loops=1)
                    Hash Cond: (t.account_id = a.id)
                    -&gt;  Hash Join  (cost=218671.23..3968048.72 rows=19757 width=59) (actual time=159926.340..2200570.261 rows=158017 loops=1)
                          Hash Cond: (t.group_id = g.id)
                          -&gt;  Hash Join  (cost=939.39..3716182.31 rows=19757 width=52) (actual time=3364.245..1968620.673 rows=158017 loops=1)
                                Hash Cond: (t.team_event_id = e.id)
                                -&gt;  Seq Scan on tickets t  (cost=0.00..3653847.12 rows=679086 width=44) (actual time=652.717..1951066.096 rows=2189306 loops=1)
                                      Filter: (is_settled AND ((status)::text = 'done'::text))
                                -&gt;  Hash  (cost=874.00..874.00 rows=5231 width=16) (actual time=1068.332..1068.332 rows=6603 loops=1)
                                      -&gt;  Index Scan using ifbevent_x4 on team_event e  (cost=0.00..874.00 rows=5231 width=16) (actual time=136.018..1063.224 rows=6603 loops=1)
                                            Index Cond: ((event_date &gt;= '2010-01-16 00:00:00'::timestamp without time zone) AND (event_date &lt;= '2010-02-15 00:00:00'::timestamp without time zone))
                          -&gt;  Hash  (cost=123143.04..123143.04 rows=5441504 width=15) (actual time=149712.458..149712.458 rows=5441504 loops=1)
                                -&gt;  Seq Scan on groups g  (cost=0.00..123143.04 rows=5441504 width=15) (actual time=0.018..144001.818 rows=5441504 loops=1)
                    -&gt;  Hash  (cost=285.01..285.01 rows=2101 width=34) (actual time=4.912..4.912 rows=2101 loops=1)
                          -&gt;  Seq Scan on accounts a  (cost=0.00..285.01 rows=2101 width=34) (actual time=0.012..3.144 rows=2101 loops=1)
                                Filter: (kudos_to IS NOT NULL)
    </div>
    <textarea id="input-txt" cols="120" rows="15" title="Enter the resutl of an EXPLAIN or EXPLAIN ANALYZE statement."></textarea>
    <br/>
    <input id="timeline-btn" type="button" value="Timeline" title="Generate the plan chart." />
    <input id="demo-btn" type="button" value="Demo" title="Insert an example plan in the input box." />
    <div id="output-area" style="display: none"></div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-13132058-1");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>



